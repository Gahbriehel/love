<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>love</title>
  <link rel="shortcut icon" href="/images/heart.jpeg" type="image/x-icon">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000000;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      font-family: "Arial", sans-serif;
    }

    #canvas {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    .rose {
      position: absolute;
      width: 5vmin;
      height: 5vmin;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 10;
      filter: drop-shadow(0 0 0.8vmin rgba(255, 23, 68, 0.8));
    }

    .rose svg {
      width: 100%;
      height: 100%;
    }

    .petal-particle {
      position: absolute;
      width: 1.5vmin;
      height: 1.5vmin;
      background: radial-gradient(ellipse at center,
          #ff1744 0%,
          #f50057 100%);
      border-radius: 50% 0 50% 0;
      pointer-events: none;
      z-index: 5;
      animation: petalFall linear forwards;
    }

    @keyframes petalFall {
      0% {
        opacity: 1;
        transform: translate(0, 0) rotate(0deg) scale(1);
      }

      100% {
        opacity: 0;
        transform: translate(var(--drift-x), 50vmin) rotate(720deg) scale(0.3);
      }
    }

    .rose-trail {
      position: absolute;
      width: 4vmin;
      height: 4vmin;
      transform: translate(-50%, -50%);
      opacity: 0.6;
      pointer-events: none;
      z-index: 8;
      animation: fadeTrail 1s forwards;
    }

    @keyframes fadeTrail {
      0% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1);
      }

      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
      }
    }

    .glow-line {
      position: absolute;
      width: 0.7vmin;
      height: 0.7vmin;
      border-radius: 50%;
      pointer-events: none;
      z-index: 3;
      box-shadow: 0 0 1.8vmin currentColor;
    }

    .love-text-container {
      position: absolute;
      bottom: 7%;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2.5vmin 4vmin;
      max-width: 94vw;
      z-index: 20;
      opacity: 0;
      transition: opacity 2.2s ease-in;
      pointer-events: none;
    }

    .love-text-container.show {
      opacity: 1;
    }

    .word-group {
      display: flex;
      gap: 2vmin;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .letter-rose {
      width: 9vmin;
      height: 9vmin;
      position: relative;
      filter: drop-shadow(0 0 1.1vmin rgba(255, 35, 80, 0.9));
      animation: letterPulse 2s infinite;
    }

    @keyframes letterPulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.15);
      }
    }

    .letter-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 4vmin;
      font-weight: bold;
      color: white;
      text-shadow: 0 0 0.7vmin #000;
      pointer-events: none;
    }

    .sparkle {
      position: absolute;
      width: 0.7vmin;
      height: 0.7vmin;
      background: white;
      border-radius: 50%;
      pointer-events: none;
      animation: sparkleAnim 1s forwards;
    }

    @keyframes sparkleAnim {
      0% {
        opacity: 1;
        transform: scale(0);
      }

      50% {
        opacity: 1;
        transform: scale(1.5);
      }

      100% {
        opacity: 0;
        transform: scale(0);
      }
    }

    @media (max-width: 500px) {
      .love-text-container {
        bottom: 5%;
        gap: 2vmin 3.5vmin;
      }

      .letter-rose {
        width: 10vmin;
        height: 10vmin;
      }

      .letter-text {
        font-size: 4.4vmin;
      }
    }
  </style>
</head>

<body>
  <div id="canvas">
    <div class="love-text-container" id="loveText">
      <div class="word-group" id="wordI"></div>
      <div class="word-group" id="wordLove"></div>
      <div class="word-group" id="wordYou"></div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("canvas");
    const loveTextContainer = document.getElementById("loveText");

    // These ensure the heart stays in the visual center
    let centerX = window.innerWidth / 2;
    let centerY = window.innerHeight / 2;

    // Update center on resize
    window.addEventListener('resize', () => {
      centerX = window.innerWidth / 2;
      centerY = window.innerHeight / 2;
    });

    function createRoseSVG(color = "#ff1744", color2 = "#f50057") {
      return `
                <svg viewBox="0 0 100 100">
                    <ellipse cx="50" cy="40" rx="18" ry="25" fill="${color}" transform="rotate(0 50 40)"/>
                    <ellipse cx="35" cy="47" rx="18" ry="25" fill="${color}" transform="rotate(-45 35 47)"/>
                    <ellipse cx="65" cy="47" rx="18" ry="25" fill="${color}" transform="rotate(45 65 47)"/>
                    <ellipse cx="30" cy="60" rx="18" ry="25" fill="${color}" transform="rotate(-80 30 60)"/>
                    <ellipse cx="70" cy="60" rx="18" ry="25" fill="${color}" transform="rotate(80 70 60)"/>
                    <ellipse cx="50" cy="50" rx="12" ry="18" fill="${color2}" transform="rotate(20 50 50)"/>
                    <ellipse cx="42" cy="55" rx="12" ry="18" fill="${color2}" transform="rotate(-30 42 55)"/>
                    <ellipse cx="58" cy="55" rx="12" ry="18" fill="${color2}" transform="rotate(30 58 55)"/>
                    <circle cx="50" cy="55" r="8" fill="#c62828"/>
                </svg>
            `;
    }

    function createPetal(x, y) {
      const petal = document.createElement("div");
      petal.className = "petal-particle";
      petal.style.left = x + "px";
      petal.style.top = y + "px";
      petal.style.setProperty(
        "--drift-x",
        (Math.random() - 0.5) * 24 + "vmin"
      );
      petal.style.animationDuration = 1.5 + Math.random() * 1 + "s";
      canvas.appendChild(petal);
      setTimeout(() => petal.remove(), 3000);
    }

    function createSparkle(x, y) {
      const sparkle = document.createElement("div");
      sparkle.className = "sparkle";
      sparkle.style.left = x + "px";
      sparkle.style.top = y + "px";
      canvas.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 1000);
    }

    function createGlowDot(x, y, color) {
      const dot = document.createElement("div");
      dot.className = "glow-line";
      dot.style.left = x + "px";
      dot.style.top = y + "px";
      dot.style.background = color;
      dot.style.color = color;
      canvas.appendChild(dot);
    }

    function generateHeartPoints(size, segments = 300) {
      const points = [];
      for (let i = 0; i <= segments; i++) {
        const t = (i / segments) * Math.PI * 2;
        const x = size * 16 * Math.pow(Math.sin(t), 3);
        const y =
          -size *
          (13 * Math.cos(t) -
            5 * Math.cos(2 * t) -
            2 * Math.cos(3 * t) -
            Math.cos(4 * t));
        points.push({
          x: centerX + x,
          y: centerY + y,
        });
      }
      return points;
    }

    function animateHeartWithRose(size, color1, color2, delay, speed = 15) {
      setTimeout(() => {
        const points = generateHeartPoints(size);
        let currentIndex = 0;

        const rose = document.createElement("div");
        rose.className = "rose";
        rose.innerHTML = createRoseSVG(color1, color2);
        canvas.appendChild(rose);

        function drawStep() {
          if (currentIndex >= points.length) {
            rose.remove();
            return;
          }

          const point = points[currentIndex];
          rose.style.left = point.x + "px";
          rose.style.top = point.y + "px";

          createGlowDot(point.x, point.y, color1);

          if (currentIndex % 8 === 0) {
            createPetal(point.x, point.y);
          }

          if (currentIndex % 15 === 0) {
            createSparkle(
              point.x + (Math.random() - 0.5) * 20,
              point.y + (Math.random() - 0.5) * 20
            );
          }

          if (currentIndex % 3 === 0) {
            const trail = document.createElement("div");
            trail.className = "rose-trail";
            trail.innerHTML = createRoseSVG(color1, color2);
            trail.style.left = point.x + "px";
            trail.style.top = point.y + "px";
            canvas.appendChild(trail);
            setTimeout(() => trail.remove(), 1000);
          }

          currentIndex++;
          setTimeout(drawStep, speed);
        }

        drawStep();
      }, delay);
    }

    function createLoveTextWithRoses() {
      setTimeout(() => {
        const groups = [
          { id: "wordI", letters: ["I"], colors: [["#ff5252", "#ff1744"]] },
          {
            id: "wordLove",
            letters: ["L", "O", "V", "E"],
            colors: [
              ["#ff4081", "#f50057"],
              ["#ff80ab", "#ff4081"],
              ["#ff5252", "#ff1744"],
              ["#ff1744", "#f50057"],
            ],
          },
          {
            id: "wordYou",
            letters: ["Y", "O", "U"],
            colors: [
              ["#ff4081", "#f50057"],
              ["#ff80ab", "#ff4081"],
              ["#ff5252", "#ff1744"],
            ],
          },
        ];

        let delay = 0;

        groups.forEach((group) => {
          const container = document.getElementById(group.id);

          group.letters.forEach((letter, j) => {
            setTimeout(() => {
              const letterDiv = document.createElement("div");
              letterDiv.className = "letter-rose";
              letterDiv.innerHTML = createRoseSVG(
                group.colors[j][0],
                group.colors[j][1]
              );

              const text = document.createElement("div");
              text.className = "letter-text";
              text.textContent = letter;
              letterDiv.appendChild(text);

              container.appendChild(letterDiv);
            }, delay);

            delay += 200;
          });
        });

        setTimeout(() => {
          loveTextContainer.classList.add("show");
        }, delay + 400);
      }, 18000);
    }

    const heartConfigs = [
      { size: 3, color1: "#ff5252", color2: "#ff1744", delay: 0, speed: 12 },
      {
        size: 5,
        color1: "#ff4081",
        color2: "#f50057",
        delay: 4000,
        speed: 11,
      },
      {
        size: 7,
        color1: "#ff80ab",
        color2: "#ff4081",
        delay: 8000,
        speed: 10,
      },
      {
        size: 9,
        color1: "#f50057",
        color2: "#ff1744",
        delay: 12000,
        speed: 9,
      },
      {
        size: 11,
        color1: "#ff1744",
        color2: "#c62828",
        delay: 16000,
        speed: 8,
      },
    ];

    heartConfigs.forEach((config) => {
      animateHeartWithRose(
        config.size,
        config.color1,
        config.color2,
        config.delay,
        config.speed
      );
    });

    createLoveTextWithRoses();
  </script>
</body>

</html>